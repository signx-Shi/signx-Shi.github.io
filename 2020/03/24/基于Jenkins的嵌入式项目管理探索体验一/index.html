<!DOCTYPE html><html lang="zn-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>基于Jenkins的嵌入式项目管理探索体验一 | signx's coderlife</title><meta name="description" content="基于Jenkins的嵌入式项目管理探索体验一"><meta name="keywords" content="嵌入式,Jenkins,CI/CD,pipelines"><meta name="author" content="Signx"><meta name="copyright" content="Signx"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/taiji.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="基于Jenkins的嵌入式项目管理探索体验一"><meta name="twitter:description" content="基于Jenkins的嵌入式项目管理探索体验一"><meta name="twitter:image" content="http://image.coderlife.top/20200324115330.png"><meta property="og:type" content="article"><meta property="og:title" content="基于Jenkins的嵌入式项目管理探索体验一"><meta property="og:url" content="http://yoursite.com/2020/03/24/%E5%9F%BA%E4%BA%8EJenkins%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%8E%A2%E7%B4%A2%E4%BD%93%E9%AA%8C%E4%B8%80/"><meta property="og:site_name" content="signx's coderlife"><meta property="og:description" content="基于Jenkins的嵌入式项目管理探索体验一"><meta property="og:image" content="http://image.coderlife.top/20200324115330.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2020/03/24/%E5%9F%BA%E4%BA%8EJenkins%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%8E%A2%E7%B4%A2%E4%BD%93%E9%AA%8C%E4%B8%80/"><link rel="prev" title="基于Jenkins的嵌入式项目管理探索体验二" href="http://yoursite.com/2020/03/28/%E5%9F%BA%E4%BA%8EJenkins%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%8E%A2%E7%B4%A2%E4%BD%93%E9%AA%8C%E4%BA%8C/"><link rel="next" title="golang接口解析" href="http://yoursite.com/2020/03/23/golang%E6%8E%A5%E5%8F%A3%E8%A7%A3%E6%9E%90/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">signx's coderlife</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="http://image.coderlife.top/pic.png" onerror="onerror=null;src='http://image.coderlife.top/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">7</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">19</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">5</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#前言"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">前言</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#传统的嵌入式项目管理的痛点"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">传统的嵌入式项目管理的痛点</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#安装Jenkins"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">安装Jenkins</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#那既然说了是基于Jenkins-那首先肯定要知道Jenkins是个什么"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">那既然说了是基于Jenkins,那首先肯定要知道Jenkins是个什么?</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#安装Jenkins首先就是下载安装包-在这里"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">安装Jenkins首先就是下载安装包,在这里:</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#安装完成之后"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">安装完成之后</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Jenkins主界面和管理"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">Jenkins主界面和管理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#创建一个自由软件风格任务"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">创建一个自由软件风格任务</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#General"><span class="toc_mobile_items-number">4.1.</span> <span class="toc_mobile_items-text">General</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#源码管理"><span class="toc_mobile_items-number">4.2.</span> <span class="toc_mobile_items-text">源码管理</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#构建触发器"><span class="toc_mobile_items-number">4.3.</span> <span class="toc_mobile_items-text">构建触发器</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#构建环境"><span class="toc_mobile_items-number">4.4.</span> <span class="toc_mobile_items-text">构建环境</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#构建"><span class="toc_mobile_items-number">4.5.</span> <span class="toc_mobile_items-text">构建</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#构建后操作"><span class="toc_mobile_items-number">4.6.</span> <span class="toc_mobile_items-text">构建后操作</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#测试你的构建"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">测试你的构建</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#查看构建日志"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">查看构建日志</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#创建一个pipeline流水线任务"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">创建一个pipeline流水线任务</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#配置pipeline项目"><span class="toc_mobile_items-number">6.1.</span> <span class="toc_mobile_items-text">配置pipeline项目</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#流水线"><span class="toc_mobile_items-number">6.2.</span> <span class="toc_mobile_items-text">流水线</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#测试一下你的流水线"><span class="toc_mobile_items-number">6.3.</span> <span class="toc_mobile_items-text">测试一下你的流水线</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#总结"><span class="toc_mobile_items-number">7.</span> <span class="toc_mobile_items-text">总结</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#传统的嵌入式项目管理的痛点"><span class="toc-number">1.1.</span> <span class="toc-text">传统的嵌入式项目管理的痛点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装Jenkins"><span class="toc-number">2.</span> <span class="toc-text">安装Jenkins</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#那既然说了是基于Jenkins-那首先肯定要知道Jenkins是个什么"><span class="toc-number">2.1.</span> <span class="toc-text">那既然说了是基于Jenkins,那首先肯定要知道Jenkins是个什么?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装Jenkins首先就是下载安装包-在这里"><span class="toc-number">2.2.</span> <span class="toc-text">安装Jenkins首先就是下载安装包,在这里:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#安装完成之后"><span class="toc-number">2.3.</span> <span class="toc-text">安装完成之后</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jenkins主界面和管理"><span class="toc-number">3.</span> <span class="toc-text">Jenkins主界面和管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建一个自由软件风格任务"><span class="toc-number">4.</span> <span class="toc-text">创建一个自由软件风格任务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#General"><span class="toc-number">4.1.</span> <span class="toc-text">General</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#源码管理"><span class="toc-number">4.2.</span> <span class="toc-text">源码管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#构建触发器"><span class="toc-number">4.3.</span> <span class="toc-text">构建触发器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#构建环境"><span class="toc-number">4.4.</span> <span class="toc-text">构建环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#构建"><span class="toc-number">4.5.</span> <span class="toc-text">构建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#构建后操作"><span class="toc-number">4.6.</span> <span class="toc-text">构建后操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#测试你的构建"><span class="toc-number">5.</span> <span class="toc-text">测试你的构建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#查看构建日志"><span class="toc-number">5.1.</span> <span class="toc-text">查看构建日志</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#创建一个pipeline流水线任务"><span class="toc-number">6.</span> <span class="toc-text">创建一个pipeline流水线任务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#配置pipeline项目"><span class="toc-number">6.1.</span> <span class="toc-text">配置pipeline项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#流水线"><span class="toc-number">6.2.</span> <span class="toc-text">流水线</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#测试一下你的流水线"><span class="toc-number">6.3.</span> <span class="toc-text">测试一下你的流水线</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">7.</span> <span class="toc-text">总结</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(http://image.coderlife.top/20200324115330.png)"><div id="post-info"><div id="post-title"><div class="posttitle">基于Jenkins的嵌入式项目管理探索体验一</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> Created 2020-03-24<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> Updated 2020-03-25</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/">项目管理</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>Post View:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>上次整理完<a href="/2020/03/18/%E6%91%86%E8%84%B1MDK-%E7%94%A8cmake%E6%94%B9%E9%80%A0%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E4%BD%93%E9%AA%8C/" title="摆脱MDK,用cmake改造嵌入式软件开发体验">摆脱MDK,用cmake改造嵌入式软件开发体验</a> 和 <a href="/2020/03/19/%E7%94%A8IDE%E9%85%8D%E7%BD%AE%E5%B9%B6%E8%BF%90%E8%A1%8Ccmake%E5%B7%A5%E7%A8%8B/" title="用IDE配置并运行cmake工程">用IDE配置并运行cmake工程</a>之后,有朋友说你不是要搞持续继承和持续发布吗,在哪呢,是不是净吹牛了你也不会呀.<br>呵呵.这回,我告诉你们,猜的真对,我就是菜.<br>哈哈开个玩笑,其实早在去年10月份就已经完成了,主要是因为思路不好,感觉没想好怎么写(别找理由了就是<strong>懒</strong>),好了,闲篇少扯,我们进入正题.</p>
<h3 id="传统的嵌入式项目管理的痛点"><a href="#传统的嵌入式项目管理的痛点" class="headerlink" title="传统的嵌入式项目管理的痛点"></a>传统的嵌入式项目管理的痛点</h3><p>有可能博主呆过的都是些小公司,很明显的现象是:</p>
<ol>
<li>项目缺乏管理,经常是固件改了生产人员不知道,或者说生产人员想要获取最新的固件不知道去哪里获取</li>
<li>固件发布很随意,经常是开发人员简单测一下感觉没问题就拿去生产了,很可能固件里面就有严重的bug,导致后期返工甚至是去客户那边拆开设备重新烧录固件</li>
<li>每个开发工程师本机环境不一样,导致编译出来的固件表面上可能没什么问题,但是底层某些逻辑产生了变化在特定的场景下会暴露出来</li>
<li>嵌入式软件开发从业人员少,经常是一边维护一边又要开发新的产品,导致应接不暇<br>等等等等等吧,基于以上的原因产生了一个想法,能不能依靠某种工具来减轻公司或是个人的某些工作,达到提高效率的目的,经过一番摸索还真的有这样的东西,大体就是:<em>gitlab+Jenkins+禅道</em>,其中<strong>gitlab实现源码管理,Jenkins实现自动化构建以及发布,禅道实现项目管理及固件发布等内容</strong><br><a href="http://image.coderlife.top/20200324210821.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324210821.png" class="lazyload"></a></li>
</ol>
<p>今天首先就来讲讲Jenkins的简单使用</p>
<h2 id="安装Jenkins"><a href="#安装Jenkins" class="headerlink" title="安装Jenkins"></a>安装Jenkins</h2><h3 id="那既然说了是基于Jenkins-那首先肯定要知道Jenkins是个什么"><a href="#那既然说了是基于Jenkins-那首先肯定要知道Jenkins是个什么" class="headerlink" title="那既然说了是基于Jenkins,那首先肯定要知道Jenkins是个什么?"></a>那既然说了是基于Jenkins,那首先肯定要知道Jenkins是个什么?</h3><blockquote>
<p>Jenkins是一款开源 CI&amp;CD 软件，用于自动化各种任务，包括构建、测试和部署软件。Jenkins 支持各种运行方式，可通过系统包、Docker 或者通过一个独立的 Java 程序。<br>具体就不解释了,反正也不是一两句能讲清的,反正你也要用.</p>
</blockquote>
<h3 id="安装Jenkins首先就是下载安装包-在这里"><a href="#安装Jenkins首先就是下载安装包-在这里" class="headerlink" title="安装Jenkins首先就是下载安装包,在这里:"></a>安装Jenkins首先就是下载安装包,在这里:</h3><p><a href="https://jenkins.io/zh/download/" target="_blank" rel="noopener">下载地址</a><br>建议下载LTS版本,以免出bug,比如我是win10系统,我就下载windows版本的:<br><a href="http://image.coderlife.top/20200324113327.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324113327.png" class="lazyload"></a><br>安装报下载完之后就是常规的一路下一步的安装方法,这里不赘述了,官方文档在此</p>
<h3 id="安装完成之后"><a href="#安装完成之后" class="headerlink" title="安装完成之后"></a>安装完成之后</h3><p>Jenkins会自动启动服务并在本地生成一个站点,一般浏览器会自动打开网页,或者自己手动在浏览器输入:localhost:8080,会显示Jenkins正在安装:<br><a href="http://image.coderlife.top/20200324115330.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324115330.png" class="lazyload"></a><br>等待一会就会进入这个页面:<br><a href="http://image.coderlife.top/20200324115451.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324115451.png" class="lazyload"></a><br>提示输入管理员密码,管理原密码在那里上面都有,打开那个文件把密码填进去,点击”继续”按钮,跳转到下面的网页:<br><a href="http://image.coderlife.top/20200324115655.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324115655.png" class="lazyload"></a><br>这里我们按照标准的配置来,安装推荐的插件,进入到插件安装界面,这个步骤有点费时间:<br><a href="http://image.coderlife.top/20200324115741.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324115741.png" class="lazyload"></a><br>好现在插件安完了,会让你创建一个管理员用户账号密码,创建完就进入到了Jenkins主界面了.</p>
<h2 id="Jenkins主界面和管理"><a href="#Jenkins主界面和管理" class="headerlink" title="Jenkins主界面和管理"></a>Jenkins主界面和管理</h2><p>Jenkins的主界面比较简洁:<br><a href="http://image.coderlife.top/20200324120132.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324120132.png" class="lazyload"></a><br>主要是3部分,左边侧栏是各种功能,右边大版块是创建的任务(刚安装好的Jenkins是没有项目的),右上角还有一小块地方是一些辅助和提醒,点击右上角的用户名可以对<br>用户进行一些设置:<br><a href="http://image.coderlife.top/20200324120251.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324120251.png" class="lazyload"></a><br>具体这块就不细说了,各读者自己摸索即可.</p>
<h2 id="创建一个自由软件风格任务"><a href="#创建一个自由软件风格任务" class="headerlink" title="创建一个自由软件风格任务"></a>创建一个自由软件风格任务</h2><p>点击Jenkins主界面上的<em>新建Item</em>按钮,选择创建一个freestyle project(自由风格任务),可以看到一个表单页面出现了,咋一看,嗬,吓人啊,密密麻麻全是英文还都是些勾勾框框的东西,博主第一次也是被这样的界面劝退了:<br><a href="http://image.coderlife.top/20200324120935.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324120935.png" class="lazyload"></a><br>最顶栏是配置的几个步骤,一共是6步,接下来博主就给各位英语困难户简单演示一下这个要怎么配置,无关的项目有的就简单说一下,有的直接略过不谈.</p>
<h3 id="General"><a href="#General" class="headerlink" title="General"></a>General</h3><p>这里是一些基础信息,描述里面的内容随便写,其他不用管.</p>
<h3 id="源码管理"><a href="#源码管理" class="headerlink" title="源码管理"></a>源码管理</h3><p><a href="http://image.coderlife.top/20200324154911.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324154911.png" class="lazyload"></a><br>这部分就是源码仓库的配置了,结合上面的原理图,你要自动执行构建,总得有源码吧,那源码就是从这里来的,这里填上仓库地址和鉴权信息,仓库一般就是svn和git,配置的方式大同小异鉴权信息一共支持这么几种:<br><a href="http://image.coderlife.top/20200324161621.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324161621.png" class="lazyload"></a><br>比较常用的就是username方式和ssh方式</p>
<h3 id="构建触发器"><a href="#构建触发器" class="headerlink" title="构建触发器"></a>构建触发器</h3><p>触发器就是在什么时候触发构建任务<br><a href="http://image.coderlife.top/20200325104703.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200325104703.png" class="lazyload"></a><br>看图中选项,有几种方式,目前我们选择Poll SCM就行,指的是定期到代码仓库询问代码时候有变化,如果有变化就执行,输入框里面的语法点击右边蓝色感叹号就会弹出来,跟Unix系统的cron指令很像(这里我什么都没填,等于这个是失效的,有需要的朋友自己填写就行).<br><em>说一下倒数第3个的”gitlab仓库有推送就执行”,需要安装GitLab插件,这个会在后续的文章中进行讲解,目前忽略就行</em></p>
<h3 id="构建环境"><a href="#构建环境" class="headerlink" title="构建环境"></a>构建环境</h3><p>一般都不用选<br><a href="http://image.coderlife.top/20200324164447.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324164447.png" class="lazyload"></a></p>
<h3 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h3><p>到了最关键的地方了,这就是整个构建系统的灵魂<br><a href="http://image.coderlife.top/20200324164647.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324164647.png" class="lazyload"></a><br>点击左下角的”添加构建步骤”,会弹出来这么些选项:<br><a href="http://image.coderlife.top/20200324164949.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324164949.png" class="lazyload"></a><br>这里我是选择的windows bat脚本因为是在win10主机上,如果你们用的是linux就选第二项那个shell的,效果都是一样的<br>接着就到了我们配置命令的时候了,可以看到这两个命令都是cmake的指令,如果认真学习了前面cmake的那篇博文,这里就不会觉得有难度了</p>
<h3 id="构建后操作"><a href="#构建后操作" class="headerlink" title="构建后操作"></a>构建后操作</h3><p>顾名思义,就是构建完成之后要执行的操作,这里列举两个常用的:<br><a href="http://image.coderlife.top/20200324165530.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324165530.png" class="lazyload"></a><br>也很好理解,这里我什么都没有做.<br>把这些配置保存了就可以开始构建了.</p>
<h2 id="测试你的构建"><a href="#测试你的构建" class="headerlink" title="测试你的构建"></a>测试你的构建</h2><p>上面的构建保存之后可以在控制面板看到你创建的任务了,这里我们首先测试一下构建系统有没有问题:<br><a href="http://image.coderlife.top/20200324165816.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324165816.png" class="lazyload"></a><br>点击带绿色箭头的图标,会在左下脚产生一个任务信息:<br><a href="http://image.coderlife.top/20200324165804.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324165804.png" class="lazyload"></a><br>等待片刻,执行完成之后,再点击控制面板上的项目名称,可以在左下脚看到构建历史,蓝色圆圈带表成功,红色圆圈就是失败的:<br><a href="http://image.coderlife.top/20200324170151.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324170151.png" class="lazyload"></a><br>可以看到我的前几次构建也失败了,这很正常,成功是建立在失败的基础上的,就跟写程序一样,不出点bug怎么能写出好的程序呢.</p>
<h3 id="查看构建日志"><a href="#查看构建日志" class="headerlink" title="查看构建日志"></a>查看构建日志</h3><p>在刚刚那次构建的序号上点击一下,跳转到下一个界面:<br><a href="http://image.coderlife.top/20200324170453.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324170453.png" class="lazyload"></a><br>点击”控制台输出”就可以看到构建的日志,拉到最后可以看到目标生成成功:<br><a href="http://image.coderlife.top/20200324170616.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324170616.png" class="lazyload"></a><br>到了这里,说明我们的项目是没问题的.<br><strong>如果配置了构建触发器里面的pollSCM选项可以自己填如一个cron语句来尝试一下自动执行构建</strong>,比如 “<code>H/1 * * * *</code>“这个语句代表每分钟轮询一次</p>
<h2 id="创建一个pipeline流水线任务"><a href="#创建一个pipeline流水线任务" class="headerlink" title="创建一个pipeline流水线任务"></a>创建一个pipeline流水线任务</h2><p>你以为我们的探索就到这里了吗,Jenkins最核心的功能还是他的pipeline任务,简单思考一下,我们就能知道,freestyle项目还是有不方便的地方:</p>
<ol>
<li>构建命令比较固定,如果我们想在每次构建的时候都有点自定义的内容就不好修改了</li>
<li>构建区分平台,就在上面构建部分的有windows bat和linux shell 等多种方式</li>
<li>构建后的动作比较单一,没有制品处理等动作<br>等等吧,就不一一列举了,相比之下,pipeline流水线就灵活很多,因为是基于脚本构建,比freestyle高效简洁<h3 id="配置pipeline项目"><a href="#配置pipeline项目" class="headerlink" title="配置pipeline项目"></a>配置pipeline项目</h3>创建流水线项目第一步跟freestyle一样,只不过在选择项目类型的时候要选第二项pipeline或者流水线项目,然后进去之后,配置页面如下:<br><a href="http://image.coderlife.top/20200324195059.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324195059.png" class="lazyload"></a><br>可以看到配置项目只有4项了,话不多说,先把第一项处理完,在描述那里随便填点东西,构建触发器跟之前的一样设置就行,那个高级项目选项也不用管,重点看最下面的流水线:</li>
</ol>
<h3 id="流水线"><a href="#流水线" class="headerlink" title="流水线"></a>流水线</h3><p>关于流水线脚本的配置有两种方式:直接在文本框里填写脚本和使用代码仓库里的脚本,基于灵活的原则,咱们当然要用代码仓里的脚本啦,<br><a href="http://image.coderlife.top/20200324195752.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324195752.png" class="lazyload"></a><br>使用这种方式的话下面就要我们去配置SCM,还是跟之前的一样就行了,下面有一个进本路径,填上脚本名称就行,因为我们默认放在代码文件夹的当前目录下<br>用脚本的话当然就要学习一下语法了,看,Jenkins贴心的提供了一个超链接让你可以查看流水线语法:<br><a href="http://image.coderlife.top/20200324200139.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324200139.png" class="lazyload"></a><br>流水线语法的内容还是挺多的,我们可以看到有很多子项目,还有片段生成器,很贴心了,如果觉得看英文难受还可以去官方文档下面学习,那里有中文社区的大佬的权威翻译:<a href="https://jenkins.io/zh/doc/book/pipeline/syntax/#environment" target="_blank" rel="noopener">官方文档-流水线语法</a><br><a href="http://image.coderlife.top/20200324200438.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324200438.png" class="lazyload"></a><br>点击pdf还能下载pdf文档,离线也能学习<br>这里我贴一个我自己的一个脚本给列为参考:<br><a href="http://image.coderlife.top/20200324200648.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324200648.png" class="lazyload"></a><br>其实也好理解:一个叫build的节点里面包含一个步骤,里面执行一个叫做”build.bat”的脚本,那这个脚本里面有些啥,别急,给你看:<br><a href="http://image.coderlife.top/20200324200943.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200324200943.png" class="lazyload"></a><br>看到了没,其实跟freestyle里面的两条命令是一毛一样的,有没有一种被博主骗到的感觉,哦吼吼,给你个眼神自己体会一下,毕竟这里写的脚本我们随时可以改不是么,灵活,灵活!<br>好了这两个文件搞定了我们把它放在代码根目录下,然后传到你的代码仓库里吧,</p>
<h3 id="测试一下你的流水线"><a href="#测试一下你的流水线" class="headerlink" title="测试一下你的流水线"></a>测试一下你的流水线</h3><p>这里就不多讲了,正常成功的情况跟自由风格是一样一样的,如果失败了还请自己查看日志多找原因,反正我是成功了.<br><strong>其实说白了,pipeline就是把之前那种固定的写法转变成了脚本式操作</strong></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>其实这篇文章只是简单介绍一下Jenkins的基本使用以及流水线的构建,细心的看官可能发现了这里面并没有持续集成和持续发布的东西,那我们留这到下一篇吧</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Signx</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/03/24/%E5%9F%BA%E4%BA%8EJenkins%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%8E%A2%E7%B4%A2%E4%BD%93%E9%AA%8C%E4%B8%80/">http://yoursite.com/2020/03/24/%E5%9F%BA%E4%BA%8EJenkins%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%8E%A2%E7%B4%A2%E4%BD%93%E9%AA%8C%E4%B8%80/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/">嵌入式    </a><a class="post-meta__tags" href="/tags/Jenkins/">Jenkins    </a><a class="post-meta__tags" href="/tags/CI-CD/">CI/CD    </a><a class="post-meta__tags" href="/tags/pipelines/">pipelines    </a></div><div class="post_share"><div class="social-share" data-image="http://image.coderlife.top/20200324115330.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/image.coderlife.top/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/image.coderlife.top/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/03/28/%E5%9F%BA%E4%BA%8EJenkins%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%8E%A2%E7%B4%A2%E4%BD%93%E9%AA%8C%E4%BA%8C/"><img class="prev_cover lazyload" data-src="http://image.coderlife.top/20200324115330.png" onerror="onerror=null;src='http://image.coderlife.top/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span>基于Jenkins的嵌入式项目管理探索体验二</span></div></a></div><div class="next-post pull_right"><a href="/2020/03/23/golang%E6%8E%A5%E5%8F%A3%E8%A7%A3%E6%9E%90/"><img class="next_cover lazyload" data-src="http://image.coderlife.top/20200323170414.png" onerror="onerror=null;src='http://image.coderlife.top/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span>golang接口解析</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> Recommend</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/03/28/基于Jenkins的嵌入式项目管理探索体验二/" title="基于Jenkins的嵌入式项目管理探索体验二"><img class="relatedPosts_cover lazyload"data-src="http://image.coderlife.top/20200324115330.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-28</div><div class="relatedPosts_title">基于Jenkins的嵌入式项目管理探索体验二</div></div></a></div><div class="relatedPosts_item"><a href="/2020/03/16/MDK也能玩出花来-这几招你学会了吗/" title="MDK也能玩出花来,这几招你学会了吗?"><img class="relatedPosts_cover lazyload"data-src="http://image.coderlife.top/1974000458-5defa7e32287b_articlex.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-16</div><div class="relatedPosts_title">MDK也能玩出花来,这几招你学会了吗?</div></div></a></div><div class="relatedPosts_item"><a href="/2020/03/23/教你高效率管理嵌入式固件/" title="教你高效率管理嵌入式固件"><img class="relatedPosts_cover lazyload"data-src="http://image.coderlife.top/20200323113318.png"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 2020-03-23</div><div class="relatedPosts_title">教你高效率管理嵌入式固件</div></div></a></div></div><div class="clear_both"></div></div></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Signx</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>