<!DOCTYPE html><html lang="zn-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>golang接口解析 | signx's coderlife</title><meta name="description" content="golang接口解析"><meta name="keywords" content="golang,接口,鸭子类型"><meta name="author" content="Signx"><meta name="copyright" content="Signx"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/taiji.ico"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="golang接口解析"><meta name="twitter:description" content="golang接口解析"><meta name="twitter:image" content="http://image.coderlife.top/20200323170414.png"><meta property="og:type" content="article"><meta property="og:title" content="golang接口解析"><meta property="og:url" content="http://yoursite.com/2020/03/23/golang%E6%8E%A5%E5%8F%A3%E8%A7%A3%E6%9E%90/"><meta property="og:site_name" content="signx's coderlife"><meta property="og:description" content="golang接口解析"><meta property="og:image" content="http://image.coderlife.top/20200323170414.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2020/03/23/golang%E6%8E%A5%E5%8F%A3%E8%A7%A3%E6%9E%90/"><link rel="prev" title="基于Jenkins的嵌入式项目管理探索体验一" href="http://yoursite.com/2020/03/24/%E5%9F%BA%E4%BA%8EJenkins%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%8E%A2%E7%B4%A2%E4%BD%93%E9%AA%8C%E4%B8%80/"><link rel="next" title="教你高效率管理嵌入式固件" href="http://yoursite.com/2020/03/23/%E6%95%99%E4%BD%A0%E9%AB%98%E6%95%88%E7%8E%87%E7%AE%A1%E7%90%86%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%9B%BA%E4%BB%B6/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"></head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">signx's coderlife</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="http://image.coderlife.top/pic.png" onerror="onerror=null;src='http://image.coderlife.top/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">8</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">20</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">6</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">Catalog</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#接口是什么"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">接口是什么</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#接口能做什么"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">接口能做什么</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#为什么要有接口"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">为什么要有接口</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#关于duck-Typing-鸭子类型"><span class="toc_mobile_items-number">3.1.</span> <span class="toc_mobile_items-text">关于duck Typing(鸭子类型)</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#什么时候需要接口"><span class="toc_mobile_items-number">4.</span> <span class="toc_mobile_items-text">什么时候需要接口</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#如何使用接口"><span class="toc_mobile_items-number">5.</span> <span class="toc_mobile_items-text">如何使用接口</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#需求"><span class="toc_mobile_items-number">5.1.</span> <span class="toc_mobile_items-text">需求</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#需求解析"><span class="toc_mobile_items-number">5.2.</span> <span class="toc_mobile_items-text">需求解析</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-4"><a class="toc_mobile_items-link" href="#面向过程的编程"><span class="toc_mobile_items-number">5.2.1.</span> <span class="toc_mobile_items-text">面向过程的编程</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#面向”对象”式编程"><span class="toc_mobile_items-number">5.3.</span> <span class="toc_mobile_items-text">面向”对象”式编程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#面向接口编程"><span class="toc_mobile_items-number">5.4.</span> <span class="toc_mobile_items-text">面向接口编程</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#用接口实现功能的扩展"><span class="toc_mobile_items-number">5.5.</span> <span class="toc_mobile_items-text">用接口实现功能的扩展</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#golang接口的好处"><span class="toc_mobile_items-number">6.</span> <span class="toc_mobile_items-text">golang接口的好处</span></a></li></ol></div></div></div><div id="body-wrap"><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#接口是什么"><span class="toc-number">1.</span> <span class="toc-text">接口是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口能做什么"><span class="toc-number">2.</span> <span class="toc-text">接口能做什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#为什么要有接口"><span class="toc-number">3.</span> <span class="toc-text">为什么要有接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#关于duck-Typing-鸭子类型"><span class="toc-number">3.1.</span> <span class="toc-text">关于duck Typing(鸭子类型)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#什么时候需要接口"><span class="toc-number">4.</span> <span class="toc-text">什么时候需要接口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#如何使用接口"><span class="toc-number">5.</span> <span class="toc-text">如何使用接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#需求"><span class="toc-number">5.1.</span> <span class="toc-text">需求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#需求解析"><span class="toc-number">5.2.</span> <span class="toc-text">需求解析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#面向过程的编程"><span class="toc-number">5.2.1.</span> <span class="toc-text">面向过程的编程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#面向”对象”式编程"><span class="toc-number">5.3.</span> <span class="toc-text">面向”对象”式编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#面向接口编程"><span class="toc-number">5.4.</span> <span class="toc-text">面向接口编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用接口实现功能的扩展"><span class="toc-number">5.5.</span> <span class="toc-text">用接口实现功能的扩展</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#golang接口的好处"><span class="toc-number">6.</span> <span class="toc-text">golang接口的好处</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(http://image.coderlife.top/20200323170414.png)"><div id="post-info"><div id="post-title"><div class="posttitle">golang接口解析</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> Created 2020-03-23<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> Updated 2020-03-23</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/golang/">golang</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"><span><i class="fa fa-eye post-meta__icon fa-fw" aria-hidden="true"> </i>Post View:</span><span id="busuanzi_value_page_pv"></span></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p>很多golang初学者当学到接口这部分内容的时候,大多很疑惑:</p>
<ul>
<li>接口是什么?</li>
<li>接口能做什么?</li>
<li>为什么要有接口?</li>
<li>什么时候需要接口?</li>
<li>接口如何使用?<br>等等诸如此类的问题,因为笔者在工作中主要使用C语言作为主要开发语言,对于java.C++等等语言不理解,也没接触过面向对象的范式,所以在学习的时候也是一头雾水下来,网上查阅的资料并没有系统的解释好这几个问题,下面笔者就结合实际经验来为大家解析一下golang的接口相关知识</li>
</ul>
<h2 id="接口是什么"><a href="#接口是什么" class="headerlink" title="接口是什么"></a>接口是什么</h2><p>要回答这个问题,先引用圣经中的一段原话:</p>
<blockquote>
<p>在Go语言中还存在着另外一种类型：接口类型。接口类型是一种抽象的类型。它不会暴露出它所代表的对象的内部值的结构和这个对象支持的基础操作的集合；它们只会展示出它们自己的方法。也就是说当你有看到一个接口类型的值时，你不知道它是什么，唯一知道的就是可以通过它的方法来做什么。</p>
</blockquote>
<p>首先从圣经原文中我们可以明确:<strong>接口是一种类型</strong></p>
<h2 id="接口能做什么"><a href="#接口能做什么" class="headerlink" title="接口能做什么"></a>接口能做什么</h2><p>从圣经中可以看到:接口内部包含很多方法,你不知道他是什么,你唯一知道的就是可以通过他的方法来做什么,简而言之:<strong>接口类型具体描述了一系列方法的集合</strong></p>
<h2 id="为什么要有接口"><a href="#为什么要有接口" class="headerlink" title="为什么要有接口"></a>为什么要有接口</h2><p>从这个问题开始才算真正的难以理解的知识点也是最核心的知识点:为什么golang要创造一个接口这个东西?<br>要理解这个问题,那我们就要提出另一个问题:接口解决了什么问题?</p>
<p>其实要追溯起来,可能要联系到一个概念叫做 duck Typing</p>
<h3 id="关于duck-Typing-鸭子类型"><a href="#关于duck-Typing-鸭子类型" class="headerlink" title="关于duck Typing(鸭子类型)"></a>关于duck Typing(鸭子类型)</h3><blockquote>
<p>当一个东西,走起来像鸭子,叫起来也像鸭子,游泳也像鸭子,那么我们可以认为他就是一只鸭子</p>
</blockquote>
<p>关于鸭子类型的定义不想赘述,很多书上包括文章上都有讲,他的主要思想就是:我们并不关心这个鸭子是什么东西,我们只关心这个鸭子能做什么?也就是只关心行为,结合前面圣经里面的说法: <em>你不知道它是什么，唯一知道的就是可以通过它的方法来做什么</em></p>
<p><a href="http://image.coderlife.top/20200323170259.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200323170259.png" class="lazyload"></a></p>
<p>好比上面这个有名的大黄鸭,为什么我们管他叫大黄”鸭”呢,时因为我们觉得这个长得像鸭子,且看真实的鸭子:<br><a href="http://image.coderlife.top/20200323170609.png" target="_blank" rel="noopener" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://image.coderlife.top/20200323170609.png" class="lazyload"></a><br>真实的鸭子会下蛋,上面的大黄鸭它会吗,显然它不会,只是我们人在认知上认为”黄色的皮毛,长者鸭子一样的嘴巴,浮在水上,然后体型还和鸭子一样”,我们就认为他是鸭子.回到<em>duckType</em>,我们可以理解为,接口关注的鸭子是走起来像鸭子,叫起来也像鸭子,游泳也像鸭子,那接口就认为他是个鸭子.<br>再打个通俗的比方,U盘我们日常用的很普遍,主要用途就是存储数据,或者换句话说,插在电脑上能存取数据的一个东西计算机就认为是一个U盘,哪怕实际上是一个手机,或者TF卡.</p>
<p>行为可以理解为动作,比方说如果某个东西实现了手的抓取功能,那么他就是一只手(无论是人手,机械手,重点在于抓取),结合鸭子类型我们不难理解:接口本身并不代表什么,有意义的是他里面包含的方法,如果这个接口实现了一个抓取的方法,那么我们就可以把它当作一只手来处理<br>那么我们再来看接口解决了什么问题:<strong>当某些类有一些共同的方法的时候,怎样把这些类做一个统一操作呢</strong>,比方说人可以抓东西,机械手臂也能抓东西,那么我们能否把问题的焦点转化为对这个手的处理而不用关心其他的动作呢?<br>很幸运,接口可以做到</p>
<h2 id="什么时候需要接口"><a href="#什么时候需要接口" class="headerlink" title="什么时候需要接口"></a>什么时候需要接口</h2><p>如果理清了上面那个为什么要有接口的问题,那么这个问题就迎刃而解了:<strong>当我们不关心某个类型是什么而只是关心他有什么样的行为</strong>的时候,就需要接口了</p>
<h2 id="如何使用接口"><a href="#如何使用接口" class="headerlink" title="如何使用接口"></a>如何使用接口</h2><p>接下来这个是重点了,因为毕竟概念理解了但是在实际的工作中如果没法使用,等于是没用,接下来我就通过一个简单的例子解释一下如何在编程中使用接口,建议大家把例子重新自己实现出来,一来加深映像,二来可以帮助自己理解深刻,<strong>如有不同意见,欢迎批评</strong></p>
<h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>这个是《go语言编程》(许式伟 著)里面的例子,我们来加以变形以便理解接口:假如有这样一个需求,客户需要一个音乐播放器能够播放MP3,ogg,wma等格式的音乐</p>
<h3 id="需求解析"><a href="#需求解析" class="headerlink" title="需求解析"></a>需求解析</h3><p>简单的需求解析其实就是:输入-&gt;输出的过程,在这个例子里我们的输入一个音乐文件,输出声音,但是这本例中,我们并不输出声音,而是用一个打印信息来标识已经开始播放了,所以输出实际为播放</p>
<h4 id="面向过程的编程"><a href="#面向过程的编程" class="headerlink" title="面向过程的编程"></a>面向过程的编程</h4><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">golang</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> mp3 <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> wma <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">playMp3</span><span class="params">(mp mp3)</span></span>&#123;</span><br><span class="line">	fmt.Println(<span class="string">" is playing mp3"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">playWma</span><span class="params">(wm wma)</span></span>&#123;</span><br><span class="line">	fmt.Println(<span class="string">"is playing wma"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	file := <span class="string">"let's go.mp3"</span></span><br><span class="line">	<span class="keyword">if</span> strings.Contains(file,<span class="string">".mp3"</span>) &#123;</span><br><span class="line">		fmt.Println(<span class="string">" is a mp3"</span>)</span><br><span class="line">		mu := mp3&#123;file&#125;</span><br><span class="line">		playMp3(mu)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> strings.Contains(file,<span class="string">".wma"</span>) &#123;</span><br><span class="line">		fmt.Println(<span class="string">" is a mp3"</span>)</span><br><span class="line">		wm := wma&#123;file&#125;</span><br><span class="line">		playWma(wm)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>在过程式编程我们可以看到,程序一点都不灵活,如果要增加一个新的类型的时候就很繁琐,要改一很多东西,所以接下来我编写一个面向对象式范例</p>
<h3 id="面向”对象”式编程"><a href="#面向”对象”式编程" class="headerlink" title="面向”对象”式编程"></a>面向”对象”式编程</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">golang</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> mp3 <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> wma <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m mp3)</span> <span class="title">play</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">" is playing mp3"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w wma)</span> <span class="title">play</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"is playing wma"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	file := <span class="string">"let's go.mp3"</span></span><br><span class="line">	<span class="keyword">if</span> strings.Contains(file,<span class="string">".mp3"</span>) &#123;</span><br><span class="line">		fmt.Println(<span class="string">" is a mp3"</span>)</span><br><span class="line">		mu := mp3&#123;file&#125;</span><br><span class="line">		mu.play()</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> strings.Contains(file,<span class="string">".wma"</span>) &#123;</span><br><span class="line">		fmt.Println(<span class="string">" is a mp3"</span>)</span><br><span class="line">		wm := wma&#123;file&#125;</span><br><span class="line">		wm.play()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>其实golang自身并不带对象式编程,这个大家都懂,可以看到对象式编程其实就是每个类型自己实现了自己的play方法,这样就比过程式稍显灵活,但是感觉离目标很不够,因为如果我们想增加一个音乐类型的话还是需要在main函数里增加一个类型判断</p>
<h3 id="面向接口编程"><a href="#面向接口编程" class="headerlink" title="面向接口编程"></a>面向接口编程</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">golang</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Player <span class="keyword">interface</span> &#123;</span><br><span class="line">	play()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> mp3 <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> wma <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m mp3)</span> <span class="title">play</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">" is playing mp3"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w wma)</span> <span class="title">play</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"is playing wma"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> musicType = <span class="keyword">map</span>[<span class="keyword">string</span>]Player&#123;</span><br><span class="line">	<span class="string">".mp3"</span>: <span class="built_in">new</span>(mp3),</span><br><span class="line">	<span class="string">".wma"</span>: <span class="built_in">new</span>(wma),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	file := <span class="string">"let's go.mp3"</span></span><br><span class="line">	<span class="keyword">var</span> pl Player</span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> musicType &#123;</span><br><span class="line">		<span class="keyword">if</span> strings.Contains(file, k) &#123;</span><br><span class="line">			pl = v</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	pl.play()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>可以看到,当我们用面向接口式编程的时候,我们的主函数可以大大简化,几乎都是对接口的操作,而且当我们需要增加一种音乐类型的时候,只需要改音乐类型实现自己的play方法,然后在musicType这个map里增加一项</p>
<p><em>想一想</em>:如果用之前的两种方式能做到这么简洁吗?</p>
<h3 id="用接口实现功能的扩展"><a href="#用接口实现功能的扩展" class="headerlink" title="用接口实现功能的扩展"></a>用接口实现功能的扩展</h3><p>假如现在客户增加这样一个需求,说在播放的时候,显示出当前播放歌曲的名称,因为我们在创建这个Player的时候仅仅new出了一个mp3或者wma,里面并没有填入相关信息,不过没关系,我们有强大的接口,这些都不是问题,由于下面的程序变动比较大,建议读者自己实现一遍,多思考:</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">golang</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"strings"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Player <span class="keyword">interface</span> &#123;</span><br><span class="line">	play()</span><br><span class="line">	getName() <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Getter <span class="keyword">interface</span> &#123;</span><br><span class="line">	getName() <span class="keyword">string</span></span><br><span class="line">	getTime() <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Setter <span class="keyword">interface</span> &#123;</span><br><span class="line">	setName(<span class="keyword">string</span>)</span><br><span class="line">	setTime(<span class="keyword">string</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> mp3 <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">	time <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m mp3)</span> <span class="title">getName</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> m.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m mp3)</span> <span class="title">getTime</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> m.time</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *mp3)</span> <span class="title">setName</span><span class="params">(name <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	m.name = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m *mp3)</span> <span class="title">setTime</span><span class="params">(time <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	m.time = time</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(m mp3)</span> <span class="title">play</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">" is playing mp3:"</span>, m.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> wma <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">	time <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w wma)</span> <span class="title">getName</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> w.name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w wma)</span> <span class="title">getTime</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> w.time</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w *wma)</span> <span class="title">setName</span><span class="params">(name <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	w.name = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w *wma)</span> <span class="title">setTime</span><span class="params">(time <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	w.time = time</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(w wma)</span> <span class="title">play</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"is playing wma:"</span>, w.name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> musicType = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">interface</span>&#123;&#125;&#123;</span><br><span class="line">	<span class="string">".mp3"</span>: <span class="built_in">new</span>(mp3),</span><br><span class="line">	<span class="string">".wma"</span>: <span class="built_in">new</span>(wma),</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	file := <span class="string">"let's go.mp3"</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> k, v := <span class="keyword">range</span> musicType &#123;</span><br><span class="line">		<span class="keyword">if</span> strings.Contains(file, k) &#123;</span><br><span class="line">			<span class="comment">//因为获得的类型为interface&#123;&#125;</span></span><br><span class="line">			<span class="comment">//采用接口查询,看是否实现了Setter接口</span></span><br><span class="line">			<span class="keyword">if</span> setter, ok := v.(Setter); ok &#123;</span><br><span class="line">				fmt.Println(<span class="string">"is a setter"</span>)</span><br><span class="line">				setter.setName(file)</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> pl, ok := v.(Player); ok &#123;</span><br><span class="line">				pl.play()</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>上面的程序增加了两个接口Getter和Setter,顾名思义,就是给类型做读取和设置用的,除此之外,有一种奇怪的用法,map那里返回一个interface{},而不是一个Player,原因在于一个编码原则:单一职责原则,意即一个程序做一件事,所以player只做palyer相关的事,而getter就负责获取<br>可以看到在程序主题那里我使用了</p>
<div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">golang</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> setter, ok := v.(Setter); ok &#123;</span><br><span class="line">				fmt.Println(<span class="string">"is a setter"</span>)</span><br><span class="line">				setter.setName(file)</span><br><span class="line"></span><br><span class="line">			&#125;</span><br></pre></td></tr></table></figure></div>
<p>这不是什么稀奇的用法,而是golang的类型断言,前面说过,接口本质上是一种类型,所以同样能适用于类型断言,书上管这叫:<strong>接口查询</strong>,利用接口查询的范式可以看对应的数据结构是否实现了某个接口,很实用</p>
<h2 id="golang接口的好处"><a href="#golang接口的好处" class="headerlink" title="golang接口的好处"></a>golang接口的好处</h2><p>到这里我的golang剖析就基本完成了,我们可以看到:golang利用接口可以做好多工作:</p>
<ul>
<li>使程序逻辑结构更加清晰</li>
<li>符合设计原则:开闭原则</li>
<li>使程序的扩展更加灵活</li>
<li>减少重复代码量</li>
</ul>
<p>由于水平有限,文笔拙劣,目前只能讲解到这个地步,一是给自己的认知做一个总结,而是希望能帮到更多的人理解到golang借口的妙用.大家有更好的idea或者批评可以留言给出</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Signx</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/03/23/golang%E6%8E%A5%E5%8F%A3%E8%A7%A3%E6%9E%90/">http://yoursite.com/2020/03/23/golang%E6%8E%A5%E5%8F%A3%E8%A7%A3%E6%9E%90/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/golang/">golang    </a><a class="post-meta__tags" href="/tags/%E6%8E%A5%E5%8F%A3/">接口    </a><a class="post-meta__tags" href="/tags/%E9%B8%AD%E5%AD%90%E7%B1%BB%E5%9E%8B/">鸭子类型    </a></div><div class="post_share"><div class="social-share" data-image="http://image.coderlife.top/20200323170414.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/image.coderlife.top/wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/image.coderlife.top/alipay.jpg" alt="支付宝"><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/03/24/%E5%9F%BA%E4%BA%8EJenkins%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E6%8E%A2%E7%B4%A2%E4%BD%93%E9%AA%8C%E4%B8%80/"><img class="prev_cover lazyload" data-src="http://image.coderlife.top/20200324115330.png" onerror="onerror=null;src='http://image.coderlife.top/404.jpg'"><div class="label">Previous Post</div><div class="prev_info"><span>基于Jenkins的嵌入式项目管理探索体验一</span></div></a></div><div class="next-post pull_right"><a href="/2020/03/23/%E6%95%99%E4%BD%A0%E9%AB%98%E6%95%88%E7%8E%87%E7%AE%A1%E7%90%86%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%9B%BA%E4%BB%B6/"><img class="next_cover lazyload" data-src="http://image.coderlife.top/20200323113318.png" onerror="onerror=null;src='http://image.coderlife.top/404.jpg'"><div class="label">Next Post</div><div class="next_info"><span>教你高效率管理嵌入式固件</span></div></a></div></nav></div></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Signx</div><div class="framework-info"><span>Driven </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>